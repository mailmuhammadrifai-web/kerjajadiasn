<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hasil Ujian SKD</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header Styles */
        .header {
            background: linear-gradient(135deg, #1a3a8f 0%, #2a5bd7 100%);
            color: white;
            padding: 25px 30px;
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(26, 58, 143, 0.2);
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23ffffff' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
            opacity: 0.2;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            z-index: 2;
        }

        .header-info h1 {
            font-size: 28px;
            margin-bottom: 8px;
            font-weight: 700;
        }

        .header-info p {
            font-size: 16px;
            opacity: 0.9;
        }

        .pin-container {
            background-color: rgba(255, 255, 255, 0.15);
            padding: 12px 20px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .pin-label {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 5px;
        }

        .pin-code {
            font-size: 22px;
            font-weight: 700;
            letter-spacing: 2px;
            text-align: center;
        }

        /* Result Card Styles */
        .result-section {
            margin-bottom: 40px;
        }

        .section-title {
            font-size: 22px;
            color: #1a3a8f;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #eaeff5;
            display: flex;
            align-items: center;
        }

        .section-title i {
            margin-right: 10px;
            font-size: 24px;
        }

        .result-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .result-card {
            background-color: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .result-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 20px rgba(0, 0, 0, 0.12);
        }

        .result-card.twk {
            border-top: 5px solid #3498db;
        }

        .result-card.tiu {
            border-top: 5px solid #2ecc71;
        }

        .result-card.tkp {
            border-top: 5px solid #e74c3c;
        }

        .result-card.total {
            border-top: 5px solid #9b59b6;
        }

        .result-card h3 {
            font-size: 18px;
            margin-bottom: 15px;
            color: #2c3e50;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .result-card h3 span {
            font-size: 14px;
            background-color: #f1f8ff;
            padding: 4px 10px;
            border-radius: 20px;
            color: #1a3a8f;
        }

        .score-container {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .score-value {
            font-size: 42px;
            font-weight: 700;
            margin-right: 15px;
            line-height: 1;
        }

        .score-max {
            font-size: 18px;
            color: #7f8c8d;
        }

        .passing-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            padding-top: 15px;
            border-top: 1px dashed #eee;
        }

        .passing-grade, .status {
            font-size: 15px;
        }

        .passing-grade span {
            font-weight: 600;
            color: #2c3e50;
        }

        .status {
            font-weight: 600;
            padding: 4px 12px;
            border-radius: 20px;
        }

        .status.passed {
            background-color: rgba(46, 204, 113, 0.15);
            color: #27ae60;
        }

        .status.failed {
            background-color: rgba(231, 76, 60, 0.15);
            color: #c0392b;
        }

        .progress-bar {
            height: 8px;
            background-color: #ecf0f1;
            border-radius: 4px;
            overflow: hidden;
            margin-top: 15px;
        }

        .progress-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 1s ease-in-out;
        }

        .twk .progress-fill {
            background-color: #3498db;
        }

        .tiu .progress-fill {
            background-color: #2ecc71;
        }

        .tkp .progress-fill {
            background-color: #e74c3c;
        }

        .total .progress-fill {
            background-color: #9b59b6;
        }

        /* Overall Result */
        .overall-result {
            background-color: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.08);
            margin-top: 20px;
            text-align: center;
        }

        .overall-result h3 {
            font-size: 24px;
            color: #2c3e50;
            margin-bottom: 20px;
        }

        .overall-status {
            display: inline-block;
            font-size: 22px;
            font-weight: 700;
            padding: 12px 30px;
            border-radius: 50px;
            margin-bottom: 20px;
        }

        .overall-status.passed {
            background-color: rgba(46, 204, 113, 0.2);
            color: #27ae60;
            border: 2px solid #2ecc71;
        }

        .overall-status.failed {
            background-color: rgba(231, 76, 60, 0.2);
            color: #c0392b;
            border: 2px solid #e74c3c;
        }

        .overall-message {
            font-size: 17px;
            color: #555;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
        }

        /* Pembahasan Section */
        .pembahasan-section {
            background-color: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.08);
            margin-bottom: 40px;
        }

        .pembahasan-content {
            margin-top: 20px;
        }

        .pembahasan-item {
            border-left: 4px solid #1a3a8f;
            padding-left: 20px;
            margin-bottom: 25px;
            background-color: #f9fafc;
            padding: 20px;
            border-radius: 0 8px 8px 0;
        }

        .pembahasan-item h4 {
            color: #1a3a8f;
            margin-bottom: 10px;
            font-size: 18px;
        }

        .pembahasan-item p {
            color: #444;
            line-height: 1.7;
        }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        .btn {
            padding: 14px 30px;
            font-size: 17px;
            font-weight: 600;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            border: none;
            min-width: 200px;
        }

        .btn i {
            margin-right: 10px;
            font-size: 18px;
        }

        .btn-dashboard {
            background-color: #1a3a8f;
            color: white;
        }

        .btn-dashboard:hover {
            background-color: #143074;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(26, 58, 143, 0.25);
        }

        .btn-print {
            background-color: #2c3e50;
            color: white;
        }

        .btn-print:hover {
            background-color: #1a252f;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(44, 62, 80, 0.25);
        }

        /* Footer */
        .footer {
            text-align: center;
            margin-top: 50px;
            padding-top: 20px;
            border-top: 1px solid #eaeff5;
            color: #7f8c8d;
            font-size: 14px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
                gap: 20px;
            }
            
            .result-cards {
                grid-template-columns: 1fr;
            }
            
            .action-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                max-width: 300px;
            }
            
            .pin-container {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <header class="header">
            <div class="header-content">
                <div class="header-info">
                    <h1><i class="fas fa-chart-line"></i> Hasil Ujian SKD</h1>
                    <p>Ujian Seleksi Kompetensi Dasar - Try Out Online</p>
                </div>
                <div class="pin-container">
                    <div class="pin-label">Kode PIN Peserta</div>
                    <div class="pin-code" id="pinCode">7XK9WP</div>
                </div>
            </div>
        </header>

        <!-- Result Section -->
        <section class="result-section">
            <h2 class="section-title"><i class="fas fa-poll"></i> Hasil SKD</h2>
            
            <div class="result-cards">
                <!-- TWK Card -->
                <div class="result-card twk">
                    <h3>Tes Wawasan Kebangsaan <span>TWK</span></h3>
                    <div class="score-container">
                        <div class="score-value" id="twkScore">0</div>
                        <div class="score-max">/ 150</div>
                    </div>
                    <div class="passing-info">
                        <div class="passing-grade">Passing Grade: <span>65</span></div>
                        <div class="status" id="twkStatus">-</div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="twkProgress"></div>
                    </div>
                </div>
                
                <!-- TIU Card -->
                <div class="result-card tiu">
                    <h3>Tes Intelegensi Umum <span>TIU</span></h3>
                    <div class="score-container">
                        <div class="score-value" id="tiuScore">0</div>
                        <div class="score-max">/ 175</div>
                    </div>
                    <div class="passing-info">
                        <div class="passing-grade">Passing Grade: <span>80</span></div>
                        <div class="status" id="tiuStatus">-</div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="tiuProgress"></div>
                    </div>
                </div>
                
                <!-- TKP Card -->
                <div class="result-card tkp">
                    <h3>Tes Karakteristik Pribadi <span>TKP</span></h3>
                    <div class="score-container">
                        <div class="score-value" id="tkpScore">0</div>
                        <div class="score-max">/ 225</div>
                    </div>
                    <div class="passing-info">
                        <div class="passing-grade">Passing Grade: <span>166</span></div>
                        <div class="status" id="tkpStatus">-</div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="tkpProgress"></div>
                    </div>
                </div>
                
                <!-- Total Card -->
                <div class="result-card total">
                    <h3>Total Skor <span>SKD</span></h3>
                    <div class="score-container">
                        <div class="score-value" id="totalScore">0</div>
                        <div class="score-max">/ 550</div>
                    </div>
                    <div class="passing-info">
                        <div class="passing-grade">Passing Grade: <span>311</span></div>
                        <div class="status" id="totalStatus">-</div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="totalProgress"></div>
                    </div>
                </div>
            </div>
            
            <!-- Overall Result -->
            <div class="overall-result">
                <h3>Hasil Akhir Ujian</h3>
                <div class="overall-status" id="overallStatus">-</div>
                <p class="overall-message" id="overallMessage">
                    Hasil ujian akan ditampilkan setelah perhitungan selesai.
                </p>
            </div>
        </section>

        <!-- Pembahasan Section -->
        <section class="pembahasan-section">
            <h2 class="section-title"><i class="fas fa-book-open"></i> Pembahasan Soal</h2>
            
            <div class="pembahasan-content">
                <div class="pembahasan-item">
                    <h4>1. Tes Wawasan Kebangsaan (TWK)</h4>
                    <p>Bagian TWK menguji pengetahuan Anda tentang Pancasila, UUD 1945, Bhinneka Tunggal Ika, dan NKRI. Soal-soal pada try out ini mencakup sejarah perjuangan bangsa, sistem tata negara, serta peran Indonesia dalam hubungan internasional. Untuk meningkatkan skor TWK, disarankan memperbanyak membaca buku tentang kewarganegaraan dan sejarah Indonesia.</p>
                </div>
                
                <div class="pembahasan-item">
                    <h4>2. Tes Intelegensi Umum (TIU)</h4>
                    <p>Bagian TIU menguji kemampuan verbal, numerik, dan logika. Soal verbal mencakup sinonim, antonim, dan analogi kata. Soal numerik meliputi aritmetika, aljabar dasar, dan interpretasi data. Soal logika menguji kemampuan penalaran dan pemecahan masalah. Latihan rutin dengan variasi soal dapat meningkatkan kemampuan TIU secara signifikan.</p>
                </div>
                
                <div class="pembahasan-item">
                    <h4>3. Tes Karakteristik Pribadi (TKP)</h4>
                    <p>Bagian TKP mengukur integritas, semangat berprestasi, kreativitas, orientasi pada pelayanan, serta kemampuan beradaptasi. Tidak ada jawaban benar atau salah di bagian ini, melainkan pilihan yang menunjukkan karakter terbaik dalam situasi tertentu. Jawaban terbaik adalah yang menunjukkan sikap positif, profesional, dan sesuai dengan nilai-nilai pelayanan publik.</p>
                </div>
                
                <div class="pembahasan-item">
                    <h4>Strategi Peningkatan Skor</h4>
                    <p>Berdasarkan performa Anda pada try out ini, disarankan untuk fokus pada bagian yang masih di bawah passing grade. Manajemen waktu saat mengerjakan soal juga sangat penting. Alokasikan waktu sesuai dengan jumlah soal dan tingkat kesulitan masing-masing bagian. Gunakan sisa waktu untuk memeriksa kembali jawaban, terutama pada bagian TIU yang membutuhkan ketelitian tinggi.</p>
                </div>
            </div>
        </section>

        <!-- Action Buttons -->
        <div class="action-buttons">
            <a href="#" class="btn btn-dashboard" id="dashboardBtn">
                <i class="fas fa-tachometer-alt"></i> Kembali ke Dashboard
            </a>
            <button class="btn btn-print" id="printBtn">
                <i class="fas fa-print"></i> Cetak Hasil
            </button>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p>Â© 2023 Sistem Ujian Online SKD. Hasil ini hanya untuk tujuan latihan dan evaluasi diri.</p>
        </footer>
    </div>

    <script>
        // Database PIN
        const pinDatabase = {
            "paket1": ["7XK9WP", "B4ZM1Q", "9TV2NL", "RS8MX3", "5CR1VT", "KP9MZ4", "G6HD2S", "1VT8NR", "FN2VK5", "2YM4BX", "MR2VT8", "5HG9SL", "XP3KZ7", "2YN5VQ", "8WQ4PZ", "VS7NL2"],
            "paket2": ["9ZW1RF", "4FB6NT", "7XK1WP", "B2MK9P", "LP9QX4", "Y7CR2V", "4FB8NR", "9TW1MZ", "SK3JP7", "1VT5NR", "FN9VK3", "2YM7BX", "SK9JP4", "MR7VT1", "3ZW7RB", "KP1MX9", "G6HD1S"],
            "paket3": ["VS4NL8", "RT9XM2", "B2MK8P", "7XL1WQ", "5HG2SD", "9ZW4RB", "KP8MX3", "FN5VK2", "8WQ4PZ", "2YM9BX", "7KP1RT", "5HG6SD", "9ZW3RF", "RS4ML9", "VN7VK1", "8WQ3PZ", "4FB1NT"]
        };

        // Passing Grade
        const passingGrades = {
            twk: 65,
            tiu: 80,
            tkp: 166,
            total: 311
        };

        // Simulasi data hasil ujian (dalam implementasi nyata, data ini akan diambil dari localStorage atau backend)
        // Untuk demo, kita akan buat nilai acak atau dari parameter URL
        function getUrlParams() {
            const params = new URLSearchParams(window.location.search);
            return {
                pin: params.get('pin') || '7XK9WP',
                twk: parseInt(params.get('twk')) || null,
                tiu: parseInt(params.get('tiu')) || null,
                tkp: parseInt(params.get('tkp')) || null
            };
        }

        function generateRandomScores() {
            // Untuk demo, generate nilai acak yang realistis
            // TWK antara 50-140, TIU antara 60-170, TKP antara 140-220
            return {
                twk: Math.floor(Math.random() * (140 - 50 + 1)) + 50,
                tiu: Math.floor(Math.random() * (170 - 60 + 1)) + 60,
                tkp: Math.floor(Math.random() * (220 - 140 + 1)) + 140
            };
        }

        function calculateTotal(twk, tiu, tkp) {
            return twk + tiu + tkp;
        }

        function checkPassing(score, passingGrade) {
            return score >= passingGrade;
        }

        function getPaketFromPin(pin) {
            for (const paket in pinDatabase) {
                if (pinDatabase[paket].includes(pin)) {
                    return paket;
                }
            }
            return "paket1"; // Default jika pin tidak ditemukan
        }

        function getDashboardUrl(pin) {
            const paket = getPaketFromPin(pin);
            return `${paket}.html`; // Sesuai permintaan: dashboardpaket1.html dll
        }

        function updateScoresDisplay() {
            const params = getUrlParams();
            const pin = params.pin;
            
            // Tampilkan PIN
            document.getElementById('pinCode').textContent = pin;
            
            // Generate atau ambil nilai dari parameter URL
            let scores;
            if (params.twk !== null && params.tiu !== null && params.tkp !== null) {
                scores = {
                    twk: params.twk,
                    tiu: params.tiu,
                    tkp: params.tkp
                };
            } else {
                scores = generateRandomScores();
            }
            
            const total = calculateTotal(scores.twk, scores.tiu, scores.tkp);
            
            // Update TWK
            document.getElementById('twkScore').textContent = scores.twk;
            const twkPassed = checkPassing(scores.twk, passingGrades.twk);
            document.getElementById('twkStatus').textContent = twkPassed ? "LULUS" : "TIDAK LULUS";
            document.getElementById('twkStatus').className = `status ${twkPassed ? 'passed' : 'failed'}`;
            document.getElementById('twkProgress').style.width = `${(scores.twk / 150) * 100}%`;
            
            // Update TIU
            document.getElementById('tiuScore').textContent = scores.tiu;
            const tiuPassed = checkPassing(scores.tiu, passingGrades.tiu);
            document.getElementById('tiuStatus').textContent = tiuPassed ? "LULUS" : "TIDAK LULUS";
            document.getElementById('tiuStatus').className = `status ${tiuPassed ? 'passed' : 'failed'}`;
            document.getElementById('tiuProgress').style.width = `${(scores.tiu / 175) * 100}%`;
            
            // Update TKP
            document.getElementById('tkpScore').textContent = scores.tkp;
            const tkpPassed = checkPassing(scores.tkp, passingGrades.tkp);
            document.getElementById('tkpStatus').textContent = tkpPassed ? "LULUS" : "TIDAK LULUS";
            document.getElementById('tkpStatus').className = `status ${tkpPassed ? 'passed' : 'failed'}`;
            document.getElementById('tkpProgress').style.width = `${(scores.tkp / 225) * 100}%`;
            
            // Update Total
            document.getElementById('totalScore').textContent = total;
            const totalPassed = checkPassing(total, passingGrades.total);
            document.getElementById('totalStatus').textContent = totalPassed ? "LULUS" : "TIDAK LULUS";
            document.getElementById('totalStatus').className = `status ${totalPassed ? 'passed' : 'failed'}`;
            document.getElementById('totalProgress').style.width = `${(total / 550) * 100}%`;
            
            // Update Overall Status
            const allPassed = twkPassed && tiuPassed && tkpPassed && totalPassed;
            document.getElementById('overallStatus').textContent = allPassed ? "SELAMAT! ANDA LULUS" : "ANDA BELUM LULUS";
            document.getElementById('overallStatus').className = `overall-status ${allPassed ? 'passed' : 'failed'}`;
            
            if (allPassed) {
                document.getElementById('overallMessage').textContent = 
                    `Selamat! Anda telah memenuhi semua passing grade SKD. Total skor Anda adalah ${total} poin, melebihi batas minimum ${passingGrades.total} poin. Pertahankan dan tingkatkan lagi untuk hasil yang lebih baik di ujian sesungguhnya.`;
            } else {
                let reasons = [];
                if (!twkPassed) reasons.push("TWK");
                if (!tiuPassed) reasons.push("TIU");
                if (!tkpPassed) reasons.push("TKP");
                if (!totalPassed) reasons.push("Total Skor");
                
                document.getElementById('overallMessage').textContent = 
                    `Anda belum memenuhi passing grade pada bagian: ${reasons.join(', ')}. Total skor Anda adalah ${total} poin. Disarankan untuk berlatih lebih giat, khususnya pada bagian yang belum mencapai passing grade.`;
            }
            
            // Update Dashboard Button
            const dashboardUrl = getDashboardUrl(pin);
            document.getElementById('dashboardBtn').href = dashboardUrl;
        }

        function setupEventListeners() {
            // Print Button
            document.getElementById('printBtn').addEventListener('click', function() {
                window.print();
            });
            
            // Animate progress bars on load
            setTimeout(() => {
                const progressBars = document.querySelectorAll('.progress-fill');
                progressBars.forEach(bar => {
                    const width = bar.style.width;
                    bar.style.width = '0%';
                    setTimeout(() => {
                        bar.style.width = width;
                    }, 100);
                });
            }, 500);
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            updateScoresDisplay();
            setupEventListeners();
        });
    </script>
</body>
</html>